"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = require("path");
const find_package_root_1 = require("./find-package-root");
/**
 * Find the node_modules folder where hint is installed as
 * a dependency or returns the hint node_modules folder if not.
 */
exports.findNodeModulesRoot = (dirname = __dirname) => {
    const packageRoot = find_package_root_1.findPackageRoot(dirname);
    const nodeModulesPath = path_1.join(packageRoot, '..');
    /*
     * If hint is installed as a dependency
     * then we need to return the parent folder
     * i.e. c:\myproject\node_modules\hint -> c:\myproject\node_modules
     */
    if (nodeModulesPath.endsWith('node_modules')) {
        return nodeModulesPath;
    }
    /*
     * If we are using directly the hint project
     * then we need to return the node_modules folder
     * inside hint
     * i.e. c:\hint -> c:\hint\node_modules
     */
    return path_1.join(packageRoot, 'node_modules');
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmluZC1ub2RlLW1vZHVsZXMtcm9vdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wYWNrYWdlcy9maW5kLW5vZGUtbW9kdWxlcy1yb290LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0JBQTRCO0FBRTVCLDJEQUFzRDtBQUV0RDs7O0dBR0c7QUFDVSxRQUFBLG1CQUFtQixHQUFHLENBQUMsVUFBa0IsU0FBUyxFQUFVLEVBQUU7SUFDdkUsTUFBTSxXQUFXLEdBQUcsbUNBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUU3QyxNQUFNLGVBQWUsR0FBRyxXQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBRWhEOzs7O09BSUc7SUFDSCxJQUFJLGVBQWUsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUU7UUFDMUMsT0FBTyxlQUFlLENBQUM7S0FDMUI7SUFFRDs7Ozs7T0FLRztJQUNILE9BQU8sV0FBSSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUM3QyxDQUFDLENBQUMifQ==