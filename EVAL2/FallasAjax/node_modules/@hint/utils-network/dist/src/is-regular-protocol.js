"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_debug_1 = require("@hint/utils-debug");
const utils_string_1 = require("@hint/utils-string");
const debug = utils_debug_1.debug(__filename);
const protocolRegex = /([^:]*):.*/;
/** Convenience function to check if a uri's protocol is http/https if specified. */
exports.isRegularProtocol = (uri) => {
    const normalizedUri = utils_string_1.normalizeString(uri);
    const exec = protocolRegex.exec(normalizedUri);
    const protocol = exec ? exec[1] : null;
    /*
     * Ignore cases such as `javascript:void(0)`,
     * `data:text/html,...`, `file://` etc.
     *
     * Note: `null` is when the protocol is not
     * specified (e.g.: test.html).
     */
    if (![null, 'http', 'https'].includes(protocol)) {
        debug(`Ignore protocol: ${protocol}`);
        return false;
    }
    return true;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtcmVndWxhci1wcm90b2NvbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pcy1yZWd1bGFyLXByb3RvY29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbURBQStDO0FBQy9DLHFEQUFxRDtBQUVyRCxNQUFNLEtBQUssR0FBb0IsbUJBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUM3QyxNQUFNLGFBQWEsR0FBRyxZQUFZLENBQUM7QUFFbkMsb0ZBQW9GO0FBQ3ZFLFFBQUEsaUJBQWlCLEdBQUcsQ0FBQyxHQUFXLEVBQVcsRUFBRTtJQUN0RCxNQUFNLGFBQWEsR0FBRyw4QkFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sSUFBSSxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYyxDQUFDLENBQUM7SUFDaEQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUV2Qzs7Ozs7O09BTUc7SUFFSCxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUM3QyxLQUFLLENBQUMsb0JBQW9CLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFFdEMsT0FBTyxLQUFLLENBQUM7S0FDaEI7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDLENBQUMifQ==