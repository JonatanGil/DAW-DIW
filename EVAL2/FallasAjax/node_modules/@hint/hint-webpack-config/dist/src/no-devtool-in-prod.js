"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_debug_1 = require("@hint/utils-debug");
const utils_types_1 = require("@hint/utils-types");
const no_devtool_in_prod_1 = require("./meta/no-devtool-in-prod");
const i18n_import_1 = require("./i18n.import");
const debug = utils_debug_1.debug(__filename);
/*
 * ------------------------------------------------------------------------------
 * Public
 * ------------------------------------------------------------------------------
 */
class WebpackConfigNoDevtoolInProd {
    constructor(context) {
        const configReceived = (webpackConfigEvent) => {
            const { config, resource } = webpackConfigEvent;
            debug(`'parse::end::webpack-config' received`);
            if (config.devtool && config.devtool.toString().includes('eval')) {
                context.report(resource, i18n_import_1.getMessage('noEval', context.language, config.devtool.toString()), { severity: utils_types_1.Severity.warning });
            }
        };
        context.on('parse::end::webpack-config', configReceived);
    }
}
exports.default = WebpackConfigNoDevtoolInProd;
WebpackConfigNoDevtoolInProd.meta = no_devtool_in_prod_1.default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm8tZGV2dG9vbC1pbi1wcm9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL25vLWRldnRvb2wtaW4tcHJvZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLG1EQUErQztBQUMvQyxtREFBNkM7QUFJN0Msa0VBQTZDO0FBQzdDLCtDQUEyQztBQUUzQyxNQUFNLEtBQUssR0FBb0IsbUJBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUU3Qzs7OztHQUlHO0FBRUgsTUFBcUIsNEJBQTRCO0lBRzdDLFlBQW1CLE9BQXlDO1FBRXhELE1BQU0sY0FBYyxHQUFHLENBQUMsa0JBQXNDLEVBQUUsRUFBRTtZQUM5RCxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLGtCQUFrQixDQUFDO1lBRWhELEtBQUssQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO1lBRS9DLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDOUQsT0FBTyxDQUFDLE1BQU0sQ0FDVixRQUFRLEVBQ1Isd0JBQVUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQ2pFLEVBQUUsUUFBUSxFQUFFLHNCQUFRLENBQUMsT0FBTyxFQUFFLENBQ2pDLENBQUM7YUFDTDtRQUNMLENBQUMsQ0FBQztRQUVGLE9BQU8sQ0FBQyxFQUFFLENBQUMsNEJBQTRCLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDN0QsQ0FBQzs7QUFwQkwsK0NBcUJDO0FBcEIwQixpQ0FBSSxHQUFHLDRCQUFJLENBQUMifQ==